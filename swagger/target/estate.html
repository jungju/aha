
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>aha</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/styles.min.css">
    <link rel="stylesheet" href="assets/css/swagview.css">
</head>

<body>
    <div>
        <nav class="navbar navbar-default navigation-clean">
            <div class="container">
                <div class="navbar-body">
                    <div class="row">
                        <a href="index.html" class="col-md-2 navbar-brand navbar-link">aha</a>
                        <span class="col-md-10 navbar-brand">ZipView를 위한 저작/관리자 도구</span>
                    </div>
                </div>
            </div>
        </nav>
    </div>
    <div>
        <div class="container">
            <br />
            <div class="row">
                <div class="col-md-3">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">Main Menu</h3></div>
                        <div class="panel-body">
                            <ul class="nav nav-pills nav-stacked">
                                
                                    
                                    <li><a href="/realtoroffice.html">RealtorOffice<p class="help-block">부동산중개소</p></a></li>
                                    
                                
                                    
                                    <li><a href="/devicestatus.html">DeviceStatus<p class="help-block">장비의 상태</p></a></li>
                                    
                                
                                    
                                    <li><a href="/estate.html">Estate<p class="help-block">매물 관리</p></a></li>
                                    
                                
                                    
                                    <li><a href="/userstatus.html">UserStatus<p class="help-block"></p></a></li>
                                    
                                
                                    
                                    <li><a href="/usertype.html">UserType<p class="help-block"></p></a></li>
                                    
                                
                                    
                                    <li><a href="/device.html">Device<p class="help-block">집뷰를 실행하는 장비 관리</p></a></li>
                                    
                                
                                    
                                    <li><a href="/guest.html">Guest<p class="help-block">공인중개사에 방문한 손님(들) 입니다.</p></a></li>
                                    
                                
                                    
                                    <li><a href="/viewservice.html">ViewService<p class="help-block">뷰서비스</p></a></li>
                                    
                                
                                    
                                    <li><a href="/product.html">Product<p class="help-block">컨텐츠로 제작된 상품 관리</p></a></li>
                                    
                                
                                    
                                    <li><a href="/estatetype.html">EstateType<p class="help-block"></p></a></li>
                                    
                                
                                    
                                    <li><a href="/realtor.html">Realtor<p class="help-block">공인중개사</p></a></li>
                                    
                                
                                    
                                    <li><a href="/purchase.html">Purchase<p class="help-block">공인중개사에서 상품 구매 관리. 하나의 매물에 여러 상품이 있습니다.</p></a></li>
                                    
                                
                                    
                                    <li><a href="/manufacture.html">Manufacture<p class="help-block">하나의 상품에 여러가지 Unit을 조합하는 작업 관리</p></a></li>
                                    
                                
                                    
                                    <li><a href="/make.html">Make<p class="help-block">작성된 상품을 제작하여 완성된 상품을 만드는 과정</p></a></li>
                                    
                                
                                    
                                    <li><a href="/viewtemplate.html">ViewTemplate<p class="help-block"></p></a></li>
                                    
                                
                                    
                                    <li><a href="/uploadfile.html">Uploadfile<p class="help-block">물리파일을 관리</p></a></li>
                                    
                                
                                    
                                    <li><a href="/user.html">User<p class="help-block">집뷰를 로그인하여 사용하는 사용자(관리자, 공인중개사, 손님 등)입니다.</p></a></li>
                                    
                                
                                    
                                    <li><a href="/component.html">Component<p class="help-block">뷰서비스에 참조 될 실제 콘텐츠들</p></a></li>
                                    
                                
                                    
                                    <li><a href="/devicetype.html">DeviceType<p class="help-block">장비의 타입</p></a></li>
                                    
                                
                                    
                                    <li><a href="/deviceusetype.html">DeviceUseType<p class="help-block"></p></a></li>
                                    
                                
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="panel panel-default">
                                <div class="panel-heading">설명</div>
                                <div class="panel-body">
                                    <h3>Estate</h3>
                                    <span>매물 관리</span>
                                    <hr />
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">Area</dt>
                                            <dd class="col-sm-10">면적. 10, 20, 30</dd>
                                        </dl>
                                        
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">Comment</dt>
                                            <dd class="col-sm-10">후기</dd>
                                        </dl>
                                        
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">EstateName</dt>
                                            <dd class="col-sm-10">매물명</dd>
                                        </dl>
                                        
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">EstateType</dt>
                                            <dd class="col-sm-10">매물종류. 아파트, 분양권, 연립</dd>
                                        </dl>
                                        
                                    
                                        
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">Loan</dt>
                                            <dd class="col-sm-10">융자금</dd>
                                        </dl>
                                        
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">ManageFee</dt>
                                            <dd class="col-sm-10">관리비</dd>
                                        </dl>
                                        
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">MoveDate</dt>
                                            <dd class="col-sm-10">입주 가능일</dd>
                                        </dl>
                                        
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">Operator</dt>
                                            <dd class="col-sm-10">담당자. 올림부동산 김올림</dd>
                                        </dl>
                                        
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">Price</dt>
                                            <dd class="col-sm-10">매물가</dd>
                                        </dl>
                                        
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">RegisterDate</dt>
                                            <dd class="col-sm-10">등록일</dd>
                                        </dl>
                                        
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">Room</dt>
                                            <dd class="col-sm-10">방개수</dd>
                                        </dl>
                                        
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">SaleType</dt>
                                            <dd class="col-sm-10">거래타입. 매도, 전세임대, 월세임대</dd>
                                        </dl>
                                        
                                    
                                        
                                        <dl class="row">
                                            <dt class="col-sm-2">Status</dt>
                                            <dd class="col-sm-10">진행상태. 진행중, 보류중, 완료</dd>
                                        </dl>
                                        
                                    
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h3 class="panel-title">List</h3></div>
                                <div class="panel-body">
                                    <button class="btn btn-default" type="button" data-toggle="modal" data-target="#createModal">Create</button>
                                    
                                    <hr />
                                    <div class="table-responsive">
                                        <table class="table">
                                        <thead>
                                            <tr id="thead-list">
                                                <th id="th-id">ID</th>
                                                
                                                    
                                                        <th id="th-area">Area</th>
                                                    
                                                
                                                    
                                                        <th id="th-comment">Comment</th>
                                                    
                                                
                                                    
                                                        <th id="th-estatename">EstateName</th>
                                                    
                                                
                                                    
                                                        <th id="th-estatetype">EstateType</th>
                                                    
                                                
                                                    
                                                
                                                    
                                                        <th id="th-loan">Loan</th>
                                                    
                                                
                                                    
                                                        <th id="th-managefee">ManageFee</th>
                                                    
                                                
                                                    
                                                        <th id="th-movedate">MoveDate</th>
                                                    
                                                
                                                    
                                                        <th id="th-operator">Operator</th>
                                                    
                                                
                                                    
                                                        <th id="th-price">Price</th>
                                                    
                                                
                                                    
                                                        <th id="th-registerdate">RegisterDate</th>
                                                    
                                                
                                                    
                                                        <th id="th-room">Room</th>
                                                    
                                                
                                                    
                                                        <th id="th-saletype">SaleType</th>
                                                    
                                                
                                                    
                                                        <th id="th-status">Status</th>
                                                    
                                                
                                                <th>수정</th>
                                                <th>삭제</th>
                                            </tr>
                                        </thead>
                                        <tbody id="tbody-list">
                                        </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="row">
                        <div class="col-md-12">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h3 class="panel-title">Detail</h3></div>
                                <div class="panel-body">
                                    <table class="table">
                                    <tbody id="detail">
                                        
                                            <tr>
                                                <th>Area</th>
                                                <td id="td-detail-area"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>Comment</th>
                                                <td id="td-detail-comment"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>EstateName</th>
                                                <td id="td-detail-estatename"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>EstateType</th>
                                                <td id="td-detail-estatetype"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>ID</th>
                                                <td id="td-detail-id"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>Loan</th>
                                                <td id="td-detail-loan"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>ManageFee</th>
                                                <td id="td-detail-managefee"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>MoveDate</th>
                                                <td id="td-detail-movedate"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>Operator</th>
                                                <td id="td-detail-operator"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>Price</th>
                                                <td id="td-detail-price"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>RegisterDate</th>
                                                <td id="td-detail-registerdate"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>Room</th>
                                                <td id="td-detail-room"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>SaleType</th>
                                                <td id="td-detail-saletype"></td>
                                            </tr>
                                        
                                            <tr>
                                                <th>Status</th>
                                                <td id="td-detail-status"></td>
                                            </tr>
                                        
                                    </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div> -->
                </div>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div id="createModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Create Estate</h4>
        </div>
        <div class="modal-body">
            <div class="contact-clean">
            <form id="form-create" method="post">
                <h2 class="text-center">Create Estate</h2>
                
                    
                        <div id="form-group-create-area" class="form-group has-error has-feedback">
                        <input name="area" type="text" class="form-control input-create input-create-string" id="input-create-area" placeholder="Area" /><i id="form-control-feedback-create-area" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">면적. 10, 20, 30</p><p id="help-block-valid-create-area" class="help-block"></p></div>
                    
                
                    
                        <div id="form-group-create-comment" class="form-group has-error has-feedback">
                        <input name="comment" type="text" class="form-control input-create input-create-string" id="input-create-comment" placeholder="Comment" /><i id="form-control-feedback-create-comment" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">후기</p><p id="help-block-valid-create-comment" class="help-block"></p></div>
                    
                
                    
                        <div id="form-group-create-estatename" class="form-group has-error has-feedback">
                        <input name="estatename" type="text" class="form-control input-create input-create-string" id="input-create-estatename" placeholder="EstateName" /><i id="form-control-feedback-create-estatename" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">매물명</p><p id="help-block-valid-create-estatename" class="help-block"></p></div>
                    
                
                    
                        <div id="form-group-create-estatetype" class="form-group has-error has-feedback">
                        <input name="estatetype" type="text" class="form-control input-create input-create-string" id="input-create-estatetype" placeholder="EstateType" /><i id="form-control-feedback-create-estatetype" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">매물종류. 아파트, 분양권, 연립</p><p id="help-block-valid-create-estatetype" class="help-block"></p></div>
                    
                
                    
                
                    
                        <div id="form-group-create-loan" class="form-group has-error has-feedback">
                        <input name="loan" type="text" class="form-control input-create input-create-string" id="input-create-loan" placeholder="Loan" /><i id="form-control-feedback-create-loan" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">융자금</p><p id="help-block-valid-create-loan" class="help-block"></p></div>
                    
                
                    
                        <div id="form-group-create-managefee" class="form-group has-error has-feedback">
                        <input name="managefee" type="text" class="form-control input-create input-create-string" id="input-create-managefee" placeholder="ManageFee" /><i id="form-control-feedback-create-managefee" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">관리비</p><p id="help-block-valid-create-managefee" class="help-block"></p></div>
                    
                
                    
                        <div id="form-group-create-movedate" class="form-group has-error has-feedback">
                        <input name="movedate" type="text" class="form-control input-create input-create-string" id="input-create-movedate" placeholder="MoveDate" /><i id="form-control-feedback-create-movedate" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">입주 가능일</p><p id="help-block-valid-create-movedate" class="help-block"></p></div>
                    
                
                    
                        <div id="form-group-create-operator" class="form-group has-error has-feedback">
                        <input name="operator" type="text" class="form-control input-create input-create-string" id="input-create-operator" placeholder="Operator" /><i id="form-control-feedback-create-operator" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">담당자. 올림부동산 김올림</p><p id="help-block-valid-create-operator" class="help-block"></p></div>
                    
                
                    
                        <div id="form-group-create-price" class="form-group has-error has-feedback">
                        <input name="price" type="text" class="form-control input-create input-create-string" id="input-create-price" placeholder="Price" /><i id="form-control-feedback-create-price" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">매물가</p><p id="help-block-valid-create-price" class="help-block"></p></div>
                    
                
                    
                        <div id="form-group-create-registerdate" class="form-group has-error has-feedback">
                        <input name="registerdate" type="text" class="form-control input-create input-create-string" id="input-create-registerdate" placeholder="RegisterDate" /><i id="form-control-feedback-create-registerdate" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">등록일</p><p id="help-block-valid-create-registerdate" class="help-block"></p></div>
                    
                
                    
                        <div id="form-group-create-room" class="form-group has-error has-feedback">
                        <input name="room" type="text" class="form-control input-create input-create-string" id="input-create-room" placeholder="Room" /><i id="form-control-feedback-create-room" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">방개수</p><p id="help-block-valid-create-room" class="help-block"></p></div>
                    
                
                    
                        <div id="form-group-create-saletype" class="form-group has-error has-feedback">
                        <input name="saletype" type="text" class="form-control input-create input-create-string" id="input-create-saletype" placeholder="SaleType" /><i id="form-control-feedback-create-saletype" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">거래타입. 매도, 전세임대, 월세임대</p><p id="help-block-valid-create-saletype" class="help-block"></p></div>
                    
                
                    
                        <div id="form-group-create-status" class="form-group has-error has-feedback">
                        <input name="status" type="text" class="form-control input-create input-create-string" id="input-create-status" placeholder="Status" /><i id="form-control-feedback-create-status" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                        <p class="help-block">진행상태. 진행중, 보류중, 완료</p><p id="help-block-valid-create-status" class="help-block"></p></div>
                    
                
                <div class="form-group">
                    <button id="btn-create-estate" class="btn btn-primary" type="submit">Create</button>
                </div>
            </form>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
        </div>
    </div>
    </div>
    <!-- Modal -->
    <div id="updateModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Update Estate</h4>
        </div>
        <div class="modal-body">
            <div class="contact-clean">
            <form id="form-update" method="post">
                <h2 class="text-center">Update Estate</h2>
                    <div id="form-group-update-id" class="form-group has-error has-feedback">
                    <input type="text" class="form-control input-update input-update-integer" id="input-update-id" disabled="disabled" id="form-control-feedback-update-id" class="form-control-feedback glyphicon" aria-hidden="true"></i>
                    </div>
                
                    <div id="form-group-update-area" class="form-group has-error has-feedback">
                    <input name="area" type="text" class="form-control input-update input-update-string" id="input-update-area" placeholder="Area" /><i id="form-control-feedback-update-area" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">면적. 10, 20, 30</p><p id="help-block-valid-update-area" class="help-block"></p></div>
                
                    <div id="form-group-update-comment" class="form-group has-error has-feedback">
                    <input name="comment" type="text" class="form-control input-update input-update-string" id="input-update-comment" placeholder="Comment" /><i id="form-control-feedback-update-comment" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">후기</p><p id="help-block-valid-update-comment" class="help-block"></p></div>
                
                    <div id="form-group-update-estatename" class="form-group has-error has-feedback">
                    <input name="estatename" type="text" class="form-control input-update input-update-string" id="input-update-estatename" placeholder="EstateName" /><i id="form-control-feedback-update-estatename" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">매물명</p><p id="help-block-valid-update-estatename" class="help-block"></p></div>
                
                    <div id="form-group-update-estatetype" class="form-group has-error has-feedback">
                    <input name="estatetype" type="text" class="form-control input-update input-update-string" id="input-update-estatetype" placeholder="EstateType" /><i id="form-control-feedback-update-estatetype" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">매물종류. 아파트, 분양권, 연립</p><p id="help-block-valid-update-estatetype" class="help-block"></p></div>
                
                    <div id="form-group-update-loan" class="form-group has-error has-feedback">
                    <input name="loan" type="text" class="form-control input-update input-update-string" id="input-update-loan" placeholder="Loan" /><i id="form-control-feedback-update-loan" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">융자금</p><p id="help-block-valid-update-loan" class="help-block"></p></div>
                
                    <div id="form-group-update-managefee" class="form-group has-error has-feedback">
                    <input name="managefee" type="text" class="form-control input-update input-update-string" id="input-update-managefee" placeholder="ManageFee" /><i id="form-control-feedback-update-managefee" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">관리비</p><p id="help-block-valid-update-managefee" class="help-block"></p></div>
                
                    <div id="form-group-update-movedate" class="form-group has-error has-feedback">
                    <input name="movedate" type="text" class="form-control input-update input-update-string" id="input-update-movedate" placeholder="MoveDate" /><i id="form-control-feedback-update-movedate" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">입주 가능일</p><p id="help-block-valid-update-movedate" class="help-block"></p></div>
                
                    <div id="form-group-update-operator" class="form-group has-error has-feedback">
                    <input name="operator" type="text" class="form-control input-update input-update-string" id="input-update-operator" placeholder="Operator" /><i id="form-control-feedback-update-operator" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">담당자. 올림부동산 김올림</p><p id="help-block-valid-update-operator" class="help-block"></p></div>
                
                    <div id="form-group-update-price" class="form-group has-error has-feedback">
                    <input name="price" type="text" class="form-control input-update input-update-string" id="input-update-price" placeholder="Price" /><i id="form-control-feedback-update-price" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">매물가</p><p id="help-block-valid-update-price" class="help-block"></p></div>
                
                    <div id="form-group-update-registerdate" class="form-group has-error has-feedback">
                    <input name="registerdate" type="text" class="form-control input-update input-update-string" id="input-update-registerdate" placeholder="RegisterDate" /><i id="form-control-feedback-update-registerdate" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">등록일</p><p id="help-block-valid-update-registerdate" class="help-block"></p></div>
                
                    <div id="form-group-update-room" class="form-group has-error has-feedback">
                    <input name="room" type="text" class="form-control input-update input-update-string" id="input-update-room" placeholder="Room" /><i id="form-control-feedback-update-room" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">방개수</p><p id="help-block-valid-update-room" class="help-block"></p></div>
                
                    <div id="form-group-update-saletype" class="form-group has-error has-feedback">
                    <input name="saletype" type="text" class="form-control input-update input-update-string" id="input-update-saletype" placeholder="SaleType" /><i id="form-control-feedback-update-saletype" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">거래타입. 매도, 전세임대, 월세임대</p><p id="help-block-valid-update-saletype" class="help-block"></p></div>
                
                    <div id="form-group-update-status" class="form-group has-error has-feedback">
                    <input name="status" type="text" class="form-control input-update input-update-string" id="input-update-status" placeholder="Status" /><i id="form-control-feedback-update-status" class="form-control-feedback glyphicon" aria-hidden="true" ></i>
                    <p class="help-block">진행상태. 진행중, 보류중, 완료</p><p id="help-block-valid-update-status" class="help-block"></p></div>
                
                <div class="form-group">
                    <button id="btn-update-estate" class="btn btn-primary" type="submit">Update</button>
                </div>
            </form>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
        </div>
    </div>
    </div>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.9/validator.min.js"></script>
    <script type="text/javascript">
        var listURL = "/v1/estates";
        var getURL = "/v1/estates/:id";
        var createURL = "/v1/estates";
        var updateURL = "/v1/estates/:id";
        var deleteURL = "/v1/estates/:id";
        var currentURL = ""

        $(function() {
            RequestList()
            $("#btn-create-estate").click(function(e) {
                e.preventDefault();
                
                var createData = {};
                    
                        createData["Area"] = $("#input-create-area").val();
                        
                        createData["Comment"] = $("#input-create-comment").val();
                        
                        createData["EstateName"] = $("#input-create-estatename").val();
                        
                        createData["EstateType"] = $("#input-create-estatetype").val();
                        
                        createData["ID"] = convInteger($("#input-create-id").val());
                    
                        createData["Loan"] = $("#input-create-loan").val();
                        
                        createData["ManageFee"] = $("#input-create-managefee").val();
                        
                        createData["MoveDate"] = $("#input-create-movedate").val();
                        
                        createData["Operator"] = $("#input-create-operator").val();
                        
                        createData["Price"] = $("#input-create-price").val();
                        
                        createData["RegisterDate"] = $("#input-create-registerdate").val();
                        
                        createData["Room"] = $("#input-create-room").val();
                        
                        createData["SaleType"] = $("#input-create-saletype").val();
                        
                        createData["Status"] = $("#input-create-status").val();
                        
                RequestCreate(createData);
                
            });

            $("#btn-update-estate").click(function(e) {
                e.preventDefault();
                
                var updateData = {};
                
                    
                    updateData["Area"] = $("#input-update-area").val();
                    
                
                    
                    updateData["Comment"] = $("#input-update-comment").val();
                    
                
                    
                    updateData["EstateName"] = $("#input-update-estatename").val();
                    
                
                    
                    updateData["EstateType"] = $("#input-update-estatetype").val();
                    
                
                    
                    updateData["ID"] = convInteger($("#input-update-id").val());
                    
                
                    
                    updateData["Loan"] = $("#input-update-loan").val();
                    
                
                    
                    updateData["ManageFee"] = $("#input-update-managefee").val();
                    
                
                    
                    updateData["MoveDate"] = $("#input-update-movedate").val();
                    
                
                    
                    updateData["Operator"] = $("#input-update-operator").val();
                    
                
                    
                    updateData["Price"] = $("#input-update-price").val();
                    
                
                    
                    updateData["RegisterDate"] = $("#input-update-registerdate").val();
                    
                
                    
                    updateData["Room"] = $("#input-update-room").val();
                    
                
                    
                    updateData["SaleType"] = $("#input-update-saletype").val();
                    
                
                    
                    updateData["Status"] = $("#input-update-status").val();
                    
                
                RequestUpdate(updateData);
                
            });

            keySetup("create");
            keySetup("update");
        });

        function keySetup(mode) {
            $(".input-"+mode+"-string").keyup(function() {
                if($(this).val() == "") {
                    return;
                }
                var id = this.id.split("-")[2]
                initValidFormGroup(mode, id);

                $("#form-group-"+mode+"-"+id).addClass("has-success");
                $("#form-control-feedback-"+mode+"-"+id).addClass("glyphicon-ok");
            });

            $(".input-"+mode+"-integer").keyup(function() {
                if($(this).val() == "") {
                    return;
                }
                var id = this.id.split("-")[2];
                initValidFormGroup(mode, id);

                if(isNaN($(this).val())) {
                    $("#form-group-"+mode+"-"+id).addClass("has-error");
                    $("#form-control-feedback-"+mode+"-"+id).addClass("glyphicon-remove");
                    $("#help-block-valid-"+mode+"-"+id).text("숫자만 입력 가능합니다.");
                } else {
                    $("#form-group-"+mode+"-"+id).addClass("has-success");
                    $("#form-control-feedback-"+mode+"-"+id).addClass("glyphicon-ok");
                }
            });
        }

        function initValidFormGroup(mode,id) {
            $("#form-group-"+mode+"-"+id).removeClass("has-success");
            $("#form-group-"+mode+"-"+id).removeClass("has-error");
            $("#form-control-feedback-"+mode+"-"+id).removeClass("glyphicon-ok");
            $("#form-control-feedback-"+mode+"-"+id).removeClass("glyphicon-remove");
            $("#help-block-valid-"+mode+"-"+id).text("");;
        }

        function convInteger(str){
            if(isNaN(str)) {
                return 0;
            }
            return Number(str);
        }

        function ChangeLowerKey(targetKey ,data){
            targetKey = targetKey.toLowerCase();
            var matchKey = ""
            $.each( data, function( key, val ) {
                if(targetKey == key.toLowerCase()) {
                    matchKey = key
                }
            });
            return matchKey
        }

        function ListData(data) {
            $("#tbody-list").text("")
            var trs = [];
            $.each( data, function( index, value ) {
                var tds = [];
                $.each( value, function( key, val ) {
                    lowerCaseID = key.toLowerCase()
                    if(lowerCaseID == "id") {
                        tds.push( '<td class="json-key-'+key+'" id="td-item-'+value.ID+'-id">'+val+'</td>' );
                    }
                }); 
                var mapValue = {} 
                
                    
                    var val = value[ChangeLowerKey("area", value)]
                    tds.push( '<td class="json-key-area" id="td-item-'+value.ID+'-area">'+val+'</td>' );
                    
                
                    
                    var val = value[ChangeLowerKey("comment", value)]
                    tds.push( '<td class="json-key-comment" id="td-item-'+value.ID+'-comment">'+val+'</td>' );
                    
                
                    
                    var val = value[ChangeLowerKey("estatename", value)]
                    tds.push( '<td class="json-key-estatename" id="td-item-'+value.ID+'-estatename">'+val+'</td>' );
                    
                
                    
                    var val = value[ChangeLowerKey("estatetype", value)]
                    tds.push( '<td class="json-key-estatetype" id="td-item-'+value.ID+'-estatetype">'+val+'</td>' );
                    
                
                    
                
                    
                    var val = value[ChangeLowerKey("loan", value)]
                    tds.push( '<td class="json-key-loan" id="td-item-'+value.ID+'-loan">'+val+'</td>' );
                    
                
                    
                    var val = value[ChangeLowerKey("managefee", value)]
                    tds.push( '<td class="json-key-managefee" id="td-item-'+value.ID+'-managefee">'+val+'</td>' );
                    
                
                    
                    var val = value[ChangeLowerKey("movedate", value)]
                    tds.push( '<td class="json-key-movedate" id="td-item-'+value.ID+'-movedate">'+val+'</td>' );
                    
                
                    
                    var val = value[ChangeLowerKey("operator", value)]
                    tds.push( '<td class="json-key-operator" id="td-item-'+value.ID+'-operator">'+val+'</td>' );
                    
                
                    
                    var val = value[ChangeLowerKey("price", value)]
                    tds.push( '<td class="json-key-price" id="td-item-'+value.ID+'-price">'+val+'</td>' );
                    
                
                    
                    var val = value[ChangeLowerKey("registerdate", value)]
                    tds.push( '<td class="json-key-registerdate" id="td-item-'+value.ID+'-registerdate">'+val+'</td>' );
                    
                
                    
                    var val = value[ChangeLowerKey("room", value)]
                    tds.push( '<td class="json-key-room" id="td-item-'+value.ID+'-room">'+val+'</td>' );
                    
                
                    
                    var val = value[ChangeLowerKey("saletype", value)]
                    tds.push( '<td class="json-key-saletype" id="td-item-'+value.ID+'-saletype">'+val+'</td>' );
                    
                
                    
                    var val = value[ChangeLowerKey("status", value)]
                    tds.push( '<td class="json-key-status" id="td-item-'+value.ID+'-status">'+val+'</td>' );
                    
                
                
                tds.push( '<td><button class="btn btn-warning btn-update-item" id="btn-update-item-'+value.ID+'">수정</button></td>' );
                tds.push( '<td><button class="btn btn-danger btn-delete-item" id="btn-delete-item-'+value.ID+'">삭제</button></td>' );
                
                $( '<tr />', {
                    html: tds.join( "" ),
                    id: 'tr-item-'+value.ID}
                ).appendTo("#tbody-list");
            })
            
            $(".btn-update-item").click(function() {
                var id = this.id.split("-")[3]
                
                    $("#input-update-area").val($('#td-item-'+id+'-area').text())
                
                    $("#input-update-comment").val($('#td-item-'+id+'-comment').text())
                
                    $("#input-update-estatename").val($('#td-item-'+id+'-estatename').text())
                
                    $("#input-update-estatetype").val($('#td-item-'+id+'-estatetype').text())
                
                    $("#input-update-id").val($('#td-item-'+id+'-id').text())
                
                    $("#input-update-loan").val($('#td-item-'+id+'-loan').text())
                
                    $("#input-update-managefee").val($('#td-item-'+id+'-managefee').text())
                
                    $("#input-update-movedate").val($('#td-item-'+id+'-movedate').text())
                
                    $("#input-update-operator").val($('#td-item-'+id+'-operator').text())
                
                    $("#input-update-price").val($('#td-item-'+id+'-price').text())
                
                    $("#input-update-registerdate").val($('#td-item-'+id+'-registerdate').text())
                
                    $("#input-update-room").val($('#td-item-'+id+'-room').text())
                
                    $("#input-update-saletype").val($('#td-item-'+id+'-saletype').text())
                
                    $("#input-update-status").val($('#td-item-'+id+'-status').text())
                
                $("#updateModal").modal("show");
            })

            $(".btn-delete-item").click(function() {
                var id = this.id.split("-")[3];
                RequestDelete(id);
            })
        }
        
        function RequestList(){
            $.getJSON( listURL, function( data ) {
                ListData(data);
            });
        }

        function RequestUpdate(data) {
            var url = updateURL.replace(":id", itemID)
            $.ajax({
                url: url,
                type: 'PUT',
                data: JSON.stringify(data),
                success: function(result) {
                    RequestList();
                },
                error: function(result){
                    alert(err.statusText);
                },
                dataType: "json",
                contentType: "application/json"
            });
            $("#updateModal").modal("hide");
        }

        function RequestCreate(data) {
            $.ajax({
                type: "POST",
                url: createURL,
                data: JSON.stringify(data),
                success: function() {
                    RequestList();
                },
                error: function(err) {
                    alert(err.statusText);
                },
                dataType: "json",
                contentType: "application/json"
            });
            $("#createModal").modal("hide");
        }

        function RequestDelete(itemID) {
            var url = deleteURL.replace(":id", itemID)
            console.log("Delete item : " + itemID)
            $.ajax({
                url: url,
                type: 'DELETE',
                success: function(result) {
                    RequestList();
                },
                error: function(result){
                    alert(err.statusText);
                }
            });
        }
    </script>
    </body>
</html>

